
<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Introduction to ROS | VNAV</title><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Introduction to ROS" /><meta property="og:locale" content="en_US" /><meta name="description" content="MIT16.485 - Visual Navigation for Autonomous Vehicles" /><meta property="og:description" content="MIT16.485 - Visual Navigation for Autonomous Vehicles" /><link rel="canonical" href="https://vnav.mit.edu/labs/lab2/ros101.html" /><meta property="og:url" content="https://vnav.mit.edu/labs/lab2/ros101.html" /><meta property="og:site_name" content="VNAV" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Introduction to ROS" /> <script type="application/ld+json"> {"headline":"Introduction to ROS","description":"MIT16.485 - Visual Navigation for Autonomous Vehicles","@type":"WebPage","url":"https://vnav.mit.edu/labs/lab2/ros101.html","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="https://vnav.mit.edu/" class="site-title lh-tight"> VNAV </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="https://vnav.mit.edu/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="https://vnav.mit.edu/syllabus.html" class="nav-list-link">Syllabus</a><li class="nav-list-item"><a href="https://vnav.mit.edu/lectures.html" class="nav-list-link">Lectures</a><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/" class="nav-list-link">Handouts</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab1/" class="nav-list-link">Lab 1</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab1/ubuntu.html" class="nav-list-link">Install Ubuntu 22.04</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab1/shell.html" class="nav-list-link">Shell basics</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab1/git.html" class="nav-list-link">Git</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab1/cpp.html" class="nav-list-link">C++</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab1/cmake.html" class="nav-list-link">Build with CMake</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab1/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab2/" class="nav-list-link">Lab 2</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab2/ros.html" class="nav-list-link">Installing ROS</a><li class="nav-list-item active"> <a href="https://vnav.mit.edu/labs/lab2/ros101.html" class="nav-list-link active">Introduction to ROS</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab2/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab3/" class="nav-list-link">Lab 3</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab3/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab4/" class="nav-list-link">Lab 4</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab4/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab5/" class="nav-list-link">Lab 5</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab5/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab6/" class="nav-list-link">Lab 6</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab6/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab7/" class="nav-list-link">Lab 7</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab7/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab8/" class="nav-list-link">Lab 8</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab8/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab8.5/" class="nav-list-link">Lab 8.5</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab8.5/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab9/" class="nav-list-link">Lab 9</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab9/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs/lab9.5/" class="nav-list-link">Lab 9.5</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs/lab9.5/exercises.html" class="nav-list-link">Exercises</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/" class="nav-list-link">Handouts 2023 (ROS 1)</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/lab1/" class="nav-list-link">Lab 1</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab1/ubuntu.html" class="nav-list-link">Install Ubuntu 20.04</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab1/shell.html" class="nav-list-link">Shell basics</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab1/git.html" class="nav-list-link">Git</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab1/cpp.html" class="nav-list-link">C++</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab1/cmake.html" class="nav-list-link">Build with CMake</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab1/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/lab2/" class="nav-list-link">Lab 2</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab2/ros.html" class="nav-list-link">Installing ROS</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab2/ros101.html" class="nav-list-link">Introduction to ROS</a><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab2/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/lab3/" class="nav-list-link">Lab 3</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab3/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/lab4/" class="nav-list-link">Lab 4</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab4/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/lab5/" class="nav-list-link">Lab 5</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab5/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/lab6/" class="nav-list-link">Lab 6</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab6/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/lab7/" class="nav-list-link">Lab 7</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab7/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/lab8/" class="nav-list-link">Lab 8</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab8/exercises.html" class="nav-list-link">Exercises</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vnav.mit.edu/labs_2023/lab9/" class="nav-list-link">Lab 9</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vnav.mit.edu/labs_2023/lab9/exercises.html" class="nav-list-link">Exercises</a></ul></ul><li class="nav-list-item"><a href="https://vnav.mit.edu/acknowledgments.html" class="nav-list-link">Acknowledgments</a><li class="nav-list-item"><a href="https://vnav.mit.edu/license.html" class="nav-list-link">License</a></ul></nav><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4"><b>Last modified</b>:<br> Tuesday, November 5 at 23:42</p><a href="http://accessibility.mit.edu/"">Accessibility</a></footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search VNAV" aria-label="Search VNAV" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="http://web.mit.edu/~sparklab/" class="site-button" target="_blank" rel="noopener noreferrer" > Visit SparkLab website </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://vnav.mit.edu/labs/">Handouts</a><li class="breadcrumb-nav-list-item"><a href="https://vnav.mit.edu/labs_2023/lab2/">Lab 2</a><li class="breadcrumb-nav-list-item"><span>Introduction to ROS</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 class="no_toc text-delta fs-9" id="ros-intro"> <a href="#ros-intro" class="anchor-heading" aria-labelledby="ros-intro"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROS Intro</h1><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#ros-nodes-and-topics" id="markdown-toc-ros-nodes-and-topics">ROS Nodes and Topics</a><ol><li><a href="#ros-nodes" id="markdown-toc-ros-nodes">ROS nodes</a><li><a href="#ros-topics" id="markdown-toc-ros-topics">ROS topics</a></ol><li><a href="#anatomy-of-a-ros-node" id="markdown-toc-anatomy-of-a-ros-node">Anatomy of a ROS node</a><ol><li><a href="#minimal-publisher-example" id="markdown-toc-minimal-publisher-example">Minimal Publisher Example</a><li><a href="#minimal-subscriber-example" id="markdown-toc-minimal-subscriber-example">Minimal Subscriber Example</a></ol><li><a href="#launch-files" id="markdown-toc-launch-files">Launch files</a><li><a href="#transforms-tf2_ros-package" id="markdown-toc-transforms-tf2_ros-package">Transforms (tf2_ros package)</a><li><a href="#quick-overview-of-tf-tools" id="markdown-toc-quick-overview-of-tf-tools">Quick overview of tf tools</a><ol><li><a href="#using-rqt_tf_tree" id="markdown-toc-using-rqt_tf_tree">Using <code class="language-plaintext highlighter-rouge">rqt_tf_tree</code></a><li><a href="#using-tf2_echo" id="markdown-toc-using-tf2_echo">Using <code class="language-plaintext highlighter-rouge">tf2_echo</code></a><li><a href="#using-rviz" id="markdown-toc-using-rviz">Using RViz</a></ol><li><a href="#ros-file-system-structure" id="markdown-toc-ros-file-system-structure">ROS file system structure</a><ol><li><a href="#general-structure" id="markdown-toc-general-structure">General structure</a><li><a href="#the-workspace" id="markdown-toc-the-workspace">The workspace</a></ol><li><a href="#additional-resources" id="markdown-toc-additional-resources">Additional resources</a></ol><h2 id="ros-nodes-and-topics"> <a href="#ros-nodes-and-topics" class="anchor-heading" aria-labelledby="ros-nodes-and-topics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROS Nodes and Topics</h2><p>One of the primary purposes of ROS is to facilitate communication between the ROS modules called nodes. Those nodes can be executed on a single machine or across several machines, obtaining a distributed system. The advantage of this structure is that each node can control one aspect of a system. For example you might have several nodes each be responsible of parsing row data from sensors and one node to process them.</p><p><img src="https://vnav.mit.edu/assets/images/lab2/Nodes-TopicandService.gif" alt="ROS communication" /></p><h3 id="ros-nodes"> <a href="#ros-nodes" class="anchor-heading" aria-labelledby="ros-nodes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROS nodes</h3><p>Nodes are regular processes, but they run a discovery process under the hood that allows them to find and communicate with other nodes on the network. The ROS design idea is that each node is an independent module that interacts with other nodes using the ROS communication capability. We will start by getting comfortable with running precompiled ROS nodes. Later, we will start writing our own nodes from scratch.</p><p>As example let’s run the <code class="language-plaintext highlighter-rouge">turtlesim</code> node. In a new terminal run</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run turtlesim turtlesim_node
</code></pre></div></div><p>Yous should see something like</p><p><img src="https://vnav.mit.edu/assets/images/lab2/turtlesim.png" alt="Turtlesim" class="mx-auto d-block img-size-60" /></p><p>Now, you can see the running nodes with</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 node list
/turtlesim
</code></pre></div></div><p>Now, let’s run another node to control the turtle:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run turtlesim turtle_teleop_key
</code></pre></div></div><p>You can use the arrow keys in this terminal to move the turtle around. Now the list of node changed:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 node list
/teleop_turtle
/turtlesim
</code></pre></div></div><h3 id="ros-topics"> <a href="#ros-topics" class="anchor-heading" aria-labelledby="ros-topics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROS topics</h3><p>Topics are the means used by nodes to transmit data, it represents the channel where messages are sent and it has a message type attached to it (you cannot send different types of messages in a topic). In ROS, data production and consumption are decoupled, this means that a node can publish message (producer) or subscribe to a topic (consumer).</p><p>Let’s use <code class="language-plaintext highlighter-rouge">rqt_graph</code> which shows the nodes and topics currently running.</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rqt_graph rqt_graph
</code></pre></div></div><p>If you select <em>Nodes/Topics (all)</em> from the top left you will see something similar to</p><p><img src="https://vnav.mit.edu/assets/images/lab2/rqt_graph.png" alt="rqt_graph" /></p><p>In the graph the ellipses are nodes and the squares are topics. From the picture it’s easy to see that <code class="language-plaintext highlighter-rouge">teleop_turtle</code> is publishing to <code class="language-plaintext highlighter-rouge">/turtle1/cmd_vel</code> topic. The node <code class="language-plaintext highlighter-rouge">/turtlesim</code> is subscribed to the topic and uses the incoming messages to move the turtle.</p><p>You can also print the messages to the terminal. Try to run <code class="language-plaintext highlighter-rouge">ros2 topic echo /turtle1/cmd_vel</code> and move the turtle; you should get something like</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 topic <span class="nb">echo</span> /turtle1/cmd_vel
linear:
  x: 0.0
  y: 0.0
  z: 0.0
angular:
  x: 0.0
  y: 0.0
  z: <span class="nt">-2</span>.0
<span class="nt">---</span>
</code></pre></div></div><p>These are very useful tools to debug your nodes.</p><h2 id="anatomy-of-a-ros-node"> <a href="#anatomy-of-a-ros-node" class="anchor-heading" aria-labelledby="anatomy-of-a-ros-node"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Anatomy of a ROS node</h2><h3 id="minimal-publisher-example"> <a href="#minimal-publisher-example" class="anchor-heading" aria-labelledby="minimal-publisher-example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Minimal Publisher Example</h3><p>A simple C++ ROS node that publishes messages has a structure similar to the following</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;string&gt;
#include "rclcpp/rclcpp.hpp"
#include "std_msgs/msg/string.hpp"
</span>
<span class="k">class</span> <span class="nc">MinimalPublisher</span> <span class="o">:</span> <span class="k">public</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span> <span class="p">{</span>
  <span class="nl">public:</span>
    <span class="n">MinimalPublisher</span><span class="p">()</span> <span class="o">:</span> <span class="n">Node</span><span class="p">(</span><span class="s">"minimal_publisher"</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">publisher_</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">create_publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"topic"</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">Publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;::</span><span class="n">SharedPtr</span> <span class="n">publisher_</span><span class="p">;</span>

    <span class="kt">void</span> <span class="n">run</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">message</span> <span class="o">=</span> <span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="p">();</span>
        <span class="kt">size_t</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">rclcpp</span><span class="o">::</span><span class="n">Rate</span> <span class="n">r</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">ok</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">message</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="s">"Hello, world! "</span> <span class="o">+</span> <span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">count</span><span class="o">++</span><span class="p">);</span>
            <span class="n">publisher_</span><span class="o">-&gt;</span><span class="n">publish</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
            <span class="n">r</span><span class="p">.</span><span class="n">sleep</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
  <span class="n">rclcpp</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">MinimalPublisher</span> <span class="n">pub</span><span class="p">;</span>
  <span class="n">pub</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
  <span class="n">rclcpp</span><span class="o">::</span><span class="n">shutdown</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p>Let’s analyze it line by line:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;string&gt;
#include "rclcpp/rclcpp.hpp"
#include "std_msgs/msg/string.hpp"
</span></code></pre></div></div><p>adds the header <code class="language-plaintext highlighter-rouge">rclcpp/rclcpp.hpp</code> containing all the basic ROS functionality.</p><p>Next we define our minimal publisher class:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MinimalPublisher</span> <span class="o">:</span> <span class="k">public</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span> <span class="p">{</span>
  <span class="nl">public:</span>
    <span class="n">MinimalPublisher</span><span class="p">()</span> <span class="o">:</span> <span class="n">Node</span><span class="p">(</span><span class="s">"minimal_publisher"</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">publisher_</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">create_publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"topic"</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">Publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;::</span><span class="n">SharedPtr</span> <span class="n">publisher_</span><span class="p">;</span>
</code></pre></div></div><p>Note that the class inherits from <code class="language-plaintext highlighter-rouge">rclcpp::Node</code>. All of your nodes will need to inhertic from this class to be able to publish or subscribe messages. The node is initialized with the node name <code class="language-plaintext highlighter-rouge">minimal_publisher</code>, and a publisher is instantiated with <code class="language-plaintext highlighter-rouge">create_publisher</code> which publishes <code class="language-plaintext highlighter-rouge">std_msgs::msg::String</code> message type on a topic called <code class="language-plaintext highlighter-rouge">topic</code>.</p><p>Next, we define the <code class="language-plaintext highlighter-rouge">run</code> function, a loop which will periodically publish a “Hello, world!” message.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    void run() {
        auto message = std_msgs::msg::String();
        size_t count = 0;
        rclcpp::Rate r(1);
        while (rclcpp::ok()) {
            message.data = "Hello, world! " + std::to_string(count++);
            publisher_-&gt;publish(message);
            r.sleep();
        }
    }
};
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">rclcpp::Rate</code> defines a rate in hz, and calling <code class="language-plaintext highlighter-rouge">r.sleep</code> at the end of our loop ensures that the loop runs at 1 hz. <code class="language-plaintext highlighter-rouge">rclcpp::ok()</code> evaluates to true as long as the node has not been shut down. Finally, calling <code class="language-plaintext highlighter-rouge">publisher_-&gt;publish(message)</code> sends the messages on the publisher’s topic.</p><p>To actually publish messages, we need to instantiate the node and call its <code class="language-plaintext highlighter-rouge">run</code> method:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
  <span class="n">rclcpp</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">MinimalPublisher</span> <span class="n">pub</span><span class="p">;</span>
  <span class="n">pub</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
  <span class="n">rclcpp</span><span class="o">::</span><span class="n">shutdown</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">rclcpp::init</code> needs to be called to initialize ROS, and <code class="language-plaintext highlighter-rouge">rclcpp::shutdown</code> will ensure ROS is properly cleaned up at the end.</p><h3 id="minimal-subscriber-example"> <a href="#minimal-subscriber-example" class="anchor-heading" aria-labelledby="minimal-subscriber-example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Minimal Subscriber Example</h3><p>Next we will take a look at example code for a minimal subscriber node, which receives messages from the above publisher node:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;string&gt;
#include "rclcpp/rclcpp.hpp"
#include "std_msgs/msg/string.hpp"
</span>
<span class="k">class</span> <span class="nc">MinimalSubscriber</span> <span class="o">:</span> <span class="k">public</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span> <span class="p">{</span>
  <span class="nl">public:</span>
    <span class="n">MinimalSubscriber</span><span class="p">()</span>
    <span class="o">:</span> <span class="n">Node</span><span class="p">(</span><span class="s">"minimal_subscriber"</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">subscriber_</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">create_subscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">(</span>
            <span class="s">"topic"</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>
            <span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">MinimalSubscriber</span><span class="o">::</span><span class="n">topic_callback</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">_1</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">Subscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;::</span><span class="n">SharedPtr</span> <span class="n">subscriber_</span><span class="p">;</span>

    <span class="kt">void</span> <span class="n">topic_callback</span><span class="p">(</span><span class="k">const</span> <span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
        <span class="n">RCLCPP_INFO</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">get_logger</span><span class="p">(),</span> <span class="s">"I heard: '%s'"</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
  <span class="n">rclcpp</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">rclcpp</span><span class="o">::</span><span class="n">spin</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">MinimalSubscriber</span><span class="o">&gt;</span><span class="p">());</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p>The structure is very similar, but there are a couple of differences that are worth highlighting. First,</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="n">subscriber_</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">create_subscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">(</span>
        <span class="s">"topic"</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">MinimalSubscriber</span><span class="o">::</span><span class="n">topic_callback</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">_1</span><span class="p">));</span>
</code></pre></div></div><p>This creates a subscription to the topic called <code class="language-plaintext highlighter-rouge">topic</code>, with a queue size of 10 messages. The third argument specifies a callback function that should be run when a new messages is received on the topic. In this case, we use <code class="language-plaintext highlighter-rouge">std::bind</code> (an example of <a href="https://en.wikipedia.org/wiki/Partial_application">partial function application</a>) to specify that the callback function should be the <code class="language-plaintext highlighter-rouge">topic_callback</code> member function of the current MinimalSubscriber class object.</p><p>It is also worth pointing out</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  rclcpp::spin(std::make_shared&lt;MinimalSubscriber&gt;());
  return 0;
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">rclcpp::spin</code> will not return until the subscriber node exits or ROS is killed, letting the node process callbacks as long as ROS is running.</p><h2 id="launch-files"> <a href="#launch-files" class="anchor-heading" aria-labelledby="launch-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Launch files</h2><p>Launch files are the preferred way to run ROS nodes. The launch files provide a convenient interface to execute multiple nodes, as well as other initialization requirements such as parameters.</p><p>Launch files can be written in Yaml, XML, or Python. We would suggest using YAML. Usually the launch files are located in the <code class="language-plaintext highlighter-rouge">launch</code> folder of the package. If the package provides one you can use <code class="language-plaintext highlighter-rouge">roslaunch</code> to use it:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch &lt;package_name&gt; &lt;launch_file&gt;
</code></pre></div></div><p><strong>Note:</strong> Pushing <kbd>CTRL</kbd>+<kbd>c</kbd> in a terminal with a launch file running will close all nodes that were started with that launch file.</p><p>An example of launch file is</p><div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">launch</span><span class="pi">:</span>

<span class="pi">-</span> <span class="na">node</span><span class="pi">:</span>
    <span class="na">pkg</span><span class="pi">:</span> <span class="s">minimal_test</span>
    <span class="na">exec</span><span class="pi">:</span> <span class="s">publisher_node</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">pub_node</span>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">my_robot</span>

<span class="pi">-</span> <span class="na">node</span><span class="pi">:</span>
    <span class="na">pkg</span><span class="pi">:</span> <span class="s">minimal_test</span>
    <span class="na">exec</span><span class="pi">:</span> <span class="s">subscriber_node</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">sub_node</span>
    <span class="na">remap</span><span class="pi">:</span>
    <span class="pi">-</span>
        <span class="na">from</span><span class="pi">:</span> <span class="s2">"</span><span class="s">topic"</span>
        <span class="na">to</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/my_robot/topic"</span>
</code></pre></div></div><p>which will run two nodes. Here we introduce the concept of a <code class="language-plaintext highlighter-rouge">namespace</code>; in this case the publisher node’s name will be <code class="language-plaintext highlighter-rouge">/my_robot/pub_node</code> and all of the node’s topic names will have the form <code class="language-plaintext highlighter-rouge">/my_robot/&lt;original topic name&gt;</code>. We also introduce the ability to <code class="language-plaintext highlighter-rouge">remap</code> topics: the subscriber node listens on <code class="language-plaintext highlighter-rouge">topic</code> by default, and we have remapped it to listen on <code class="language-plaintext highlighter-rouge">/my_robot/topic</code>.</p><h2 id="transforms-tf2_ros-package"> <a href="#transforms-tf2_ros-package" class="anchor-heading" aria-labelledby="transforms-tf2_ros-package"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Transforms (tf2_ros package)</h2><p>The ROS tf2 library has been developed to provide a standard method to keep track of coordinate frames and transform data within the entire system so that users can be confident about the consistency of their data in a particular coordinate frame without requiring knowledge about all the other coordinate frames in the system and their associations.</p><p>tf2 is distributed across nodes (across machines too, eventually) and there are two types of tf2 nodes</p><ul><li>Listener: that listen to <code class="language-plaintext highlighter-rouge">/tf</code> and cache all data that it collected (up to cache limit)<li>Broadcaster: that publish transforms between coordinate frames on <code class="language-plaintext highlighter-rouge">/tf</code></ul><p>In tf2, transforms and coordinate frames are represented as a graph with the transforms as edges and the coordinate frames as nodes. The advantage of this representation is that the relative pose between two nodes is simply the product of the edges connecting the two nodes. A tree structure has also the benefit of allowing for dynamic changes easily. tf indeed takes care of ambiguity of transforms not allowing loops in the transforms graph.</p><div class="alert alert-info"><div class="alert-content"><h2 class="alert-title"> Where to learn TF.</h2><div class="alert-body"><p>The best resource to learn TF out there is the official <a href="https://docs.ros.org/en/rolling/Tutorials/Intermediate/Tf2/Tf2-Main.html">ROS tf2 tutorials</a>.</p><p>Take your time to familiarize with the Listener/Broadcaster code, you'll need for the exercises.</p><br /><p>Of course do not forget the <a href="https://docs.ros.org/en/humble/index.html">official documentation.</a></p></div></div></div><h2 id="quick-overview-of-tf-tools"> <a href="#quick-overview-of-tf-tools" class="anchor-heading" aria-labelledby="quick-overview-of-tf-tools"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Quick overview of tf tools</h2><p>Let’s see the tools we have to explore the tf tree.</p><p>ROS provides a simple demo we are going to use, from a terminal run</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch turtle_tf2_py turtle_tf2_demo.launch.py
</code></pre></div></div><p>and from a second terminal run</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run turtlesim turtle_teleop_key
</code></pre></div></div><p>Once the turtlesim demo is started, we will drive the center turtle around in turtlesim using the keyboard arrow keys. We can observe that one turtle will continuously follow the turtle we are driving. In this demo application, the ROS TF library is used to create three coordinate frames: a world frame, a turtle1 frame, and a turtle2 frame, and to create a TF broadcaster to publish the coordinate frames of the first turtle and a TF listener to compute the difference between the first and follower turtle frames, as well as drive the second turtle to follow the first.</p><h3 id="using-rqt_tf_tree"> <a href="#using-rqt_tf_tree" class="anchor-heading" aria-labelledby="using-rqt_tf_tree"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using <code class="language-plaintext highlighter-rouge">rqt_tf_tree</code></h3><p>The rqt_tf_tree tool enables the real-time visualization of the tree of frames being broadcast over ROS</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rqt_tf_tree rqt_tf_tree
</code></pre></div></div><p><img src="https://vnav.mit.edu/assets/images/lab2/turtle_rqt_tf_tree.png" alt="rqt_tf_tree example" /></p><p>Here, you can see that three frames are broadcast by TF—the <code class="language-plaintext highlighter-rouge">world</code>, <code class="language-plaintext highlighter-rouge">turtle1</code>, and <code class="language-plaintext highlighter-rouge">turtle2</code>, where the <code class="language-plaintext highlighter-rouge">world</code> frame is the parent of the <code class="language-plaintext highlighter-rouge">turtle1</code> and <code class="language-plaintext highlighter-rouge">turtle2</code> frames.</p><h3 id="using-tf2_echo"> <a href="#using-tf2_echo" class="anchor-heading" aria-labelledby="using-tf2_echo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using <code class="language-plaintext highlighter-rouge">tf2_echo</code></h3><p>The tf2_echo tool reports the transformation between any two frames broadcast over ROS</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run tf2_ros tf2_echo <span class="o">[</span>reference_frame] <span class="o">[</span>target_frame]
</code></pre></div></div><p>For example</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 run tf2_ros tf2_echo turtle2 turtle1
At <span class="nb">time </span>1724205730.839441066
- Translation: <span class="o">[</span>1.057, 0.031, 0.000]
- Rotation: <span class="k">in </span>Quaternion <span class="o">[</span>0.000, 0.000, 0.070, 0.998]
</code></pre></div></div><h3 id="using-rviz"> <a href="#using-rviz" class="anchor-heading" aria-labelledby="using-rviz"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using RViz</h3><p><em>RViz</em> is a graphical 3D visualization tool that is useful for viewing the association between TF frames within the ROS system:</p><p><img src="https://vnav.mit.edu/assets/images/lab2/turtle_rviz.png" alt="RViz example" /></p><p>You can run <em>RViz</em> by running</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rviz2
</code></pre></div></div><p>One it is started, you need to press the button <em>Add</em> to add the <em>TF</em> in the visualization and set the correct <em>Fixed Frame</em> (i.e. <code class="language-plaintext highlighter-rouge">world</code>).</p><h2 id="ros-file-system-structure"> <a href="#ros-file-system-structure" class="anchor-heading" aria-labelledby="ros-file-system-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROS file system structure</h2><h3 id="general-structure"> <a href="#general-structure" class="anchor-heading" aria-labelledby="general-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General structure</h3><p>Similar to an operating system, ROS files are also organized in a particular fashion. The following graph shows how ROS files and folder are organized on the disk:</p><p><img src="https://static.packt-cdn.com/products/9781783987580/graphics/7580OS_02_01.jpg" alt="ROS FS Structure" class="mx-auto d-block" /></p><p>The ROS <strong>packages</strong> are the most basic unit of the ROS software. They contain the ROS runtime process (<strong>nodes</strong>), libraries, configuration files, and so on, which are organized together as a single unit. Packages are the atomic build item and release item in the ROS software.</p><p>Inside a package we can find the <strong>package manifest</strong> file, which contains information about the package, author, license, dependencies, compilation flags, and so on. The <code class="language-plaintext highlighter-rouge">package.xml</code> file inside the ROS package is the manifest file of that package.</p><p>The ROS <strong>messages</strong> are a type of information that is sent from one ROS process to the other. They are regular text files with <code class="language-plaintext highlighter-rouge">.msg</code> extension that define the fields of the messages.</p><p>The ROS <strong>service</strong> is a kind of request/reply interaction between processes. The reply and request data types can be defined inside the <code class="language-plaintext highlighter-rouge">srv</code> folder inside the package.</p><p>For example, the package we will develop in this lab will be like</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.
└── two_drones_pkg
    ├── CMakeLists.txt
    ├── README.md
    ├── config
    │   └── default.rviz
    ├── launch
    │   └── two_drones.launch
    ├── mesh
    │   └── quadrotor.dae
    ├── package.xml
    └── src
        ├── frames_publisher_node.cpp
        └── plots_publisher_node.cpp
</code></pre></div></div><h3 id="the-workspace"> <a href="#the-workspace" class="anchor-heading" aria-labelledby="the-workspace"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The workspace</h3><p>In general terms, the workspace is a folder which contains packages, those packages contain our source files and the environment or workspace provides us with a way to compile those packages. It is useful when we want to compile various packages at the same time and it is a good way of centralizing all of our developments.</p><h2 id="additional-resources"> <a href="#additional-resources" class="anchor-heading" aria-labelledby="additional-resources"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Additional resources</h2><p>Of course there are many details we haven’t discussed here. You can find much more detailed information in the <a href="https://docs.ros.org/en/humble/Tutorials.html">Official ROS tutorial</a></p><hr><footer><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2018-2022 MIT. This work is licensed under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;overflow:unset;">CC BY 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"></a></p><div class="d-flex mt-2"></div></footer></div></div><div class="search-overlay"></div></div>
